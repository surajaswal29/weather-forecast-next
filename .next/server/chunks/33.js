exports.id=33,exports.ids=[33],exports.modules={8827:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},4946:(e,a,t)=>{Promise.resolve().then(t.bind(t,9394)),Promise.resolve().then(t.bind(t,1729)),Promise.resolve().then(t.bind(t,8015))},5303:()=>{},1729:(e,a,t)=>{"use strict";t.d(a,{default:()=>c});var r=t(326),l=t(7577),s=t(5842),i=t(3146),o=t(5624),n=t(4209);let d=()=>(0,i.xC)({reducer:{cities:o.ZP,weather:n.Z}});function c({children:e}){let a=(0,l.useRef)();return a.current||(a.current=d()),r.jsx(s.zt,{store:a.current,children:e})}},282:(e,a,t)=>{"use strict";t.d(a,{Z:()=>j});var r=t(326),l=t(7577),s=t(6508),i=t(1798),o=t(7027),n=t(8998),d=t(7427),c=t(4785),m=t(9256),h=t(5696),g=t(144),p=t(5399),u=t(434),x=t(5624),f=t(9394),b=t(5047);let y=["Europe/Paris","America/New_York","America/Los_Angeles","Australia/Sydney","Asia/Tokyo","Europe/London","America/Chicago","Asia/Shanghai","America/Toronto","Europe/Berlin","America/Mexico_City","America/Sao_Paulo","Africa/Johannesburg","Asia/Dubai","Pacific/Auckland"],j=({type:e})=>{(0,b.useSearchParams)();let a=(0,g.TL)(),{loading:t,citiesData:j,mergeCitiesData:v,error:w,currentPage:C,totalItems:N,searchTerm:S,timeZone:z,pageLimit:A,theme:$,favCityData:T,order:_,orderField:D}=(0,g.CG)(e=>e.cities),[P,k]=(0,l.useState)(null),[I,M]=(0,l.useState)("ASC"),[Z,W]=(0,l.useState)(""),[L,F]=(0,l.useState)(z||""),O=e=>{let{ascii_name:t,cou_name_en:r,population:l,timezone:s,coordinates:i}=e.row.original,o=localStorage.getItem("favCity"),n=o?JSON.parse(o):[];if(n.find(e=>e.ascii_name===t)){(0,f.Am)("City already added to favorites",{theme:$,type:"error"});return}n.push({ascii_name:t,cou_name_en:r,population:l,timezone:s,coordinates:i}),localStorage.setItem("favCity",JSON.stringify(n)),a((0,x.j$)(JSON.parse(localStorage.getItem("favCity")))),(0,f.Am)("City added to favorites",{theme:$,type:"success"})},E=e=>{let{ascii_name:t}=e.row.original,r=localStorage.getItem("favCity"),l=(r?JSON.parse(r):[]).filter(e=>e.ascii_name!==t);localStorage.setItem("favCity",JSON.stringify(l)),a((0,x.j$)(JSON.parse(localStorage.getItem("favCity")))),(0,f.Am)("City removed from favorites",{theme:$,type:"success"})},J=()=>{if("all"===e){a((0,x.M$)([]));let e={page:C,limit:A,timezone:z,searchTerm:S,order:`ascii_name%20${_&&"ASC"===_.split("%20")[1]?"DESC":"ASC"}`};a((0,p.j)(e))}else{let e=JSON.parse(localStorage.getItem("favCity")||"[]"),t=e.sort((e,a)=>"ASC"===I?e.ascii_name<a.ascii_name?-1:e.ascii_name>a.ascii_name?1:0:e.ascii_name>a.ascii_name?-1:e.ascii_name<a.ascii_name?1:0);e.length>0?a((0,x.j$)(t)):k("No data found")}},K=(0,s.b7)({data:"all"===e?v:P?[]:T,columns:[{accessorKey:"ascii_name",header:"City Name",size:200,cell:e=>{let{coordinates:a}=e.row.original,t=a?a.lat:null,l=a?a.lon:null;return r.jsx("div",{className:"w-full",children:(0,r.jsxs)(u.default,{href:`/weather/${e.getValue()}?lat=${t}&lng=${l}`,className:"flex items-center gap-1 hover:text-blue-500 hover:underline",target:"_blank",rel:"noreferrer",children:[e.getValue(),r.jsx(o.Z,{size:16})]})})}},{accessorKey:"cou_name_en",header:"Country",size:200,enableSorting:!1},{accessorKey:"timezone",header:"Timezone",enableSorting:!1,cell:e=>(0,r.jsxs)("div",{className:"p-2 px-3 gap-1 flex items-center inset-2 capitalize text-xs w-fit font-medium rounded-full bg-gradient-to-tr from-purple-500 to-blue-400 text-white",children:[r.jsx(n.Z,{size:16}),e.getValue()]}),size:200},{accessorKey:"population",header:"Population",size:200},{accessorKey:"action",header:"Action",size:200,cell:a=>r.jsx("div",{className:"flex items-center gap-2",children:"all"===e?r.jsx("button",{type:"button",onClick:()=>O(a),className:"text-red-500 hover:text-red-400 hover:underline flex items-center gap-2 text-sm",children:T.some(e=>e.ascii_name===a.row.original.ascii_name)?(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[r.jsx(d.Z,{size:16,fill:"red"})," ",r.jsx("em",{className:"text-red-300",children:"Added to favorites"})]}):(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[r.jsx(d.Z,{size:16})," Add to favorites"]})}):(0,r.jsxs)("button",{type:"button",onClick:()=>E(a),className:"text-red-500 hover:text-red-400 hover:underline flex items-center gap-2 text-sm",children:[r.jsx(c.Z,{size:16}),"Remove from favorites"]})})}],getCoreRowModel:(0,i.sC)()});(0,l.useEffect)(()=>{if("all"===e){let e=()=>{window.innerHeight+window.scrollY>=document.body.scrollHeight&&a((0,p.j)({page:C+1,limit:A,timezone:z,searchTerm:Z,order:_}))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[j,C,a]),(0,l.useEffect)(()=>{localStorage.setItem("timezone",z||"Asia/Kolkata"),a((0,p.j)({page:1,limit:20,timezone:z||"Asia/Kolkata",searchTerm:"",order:_}))},[]);let U=e=>{let a=JSON.parse(localStorage.getItem("history"));return a&&a.length>0?a.find(a=>a.city.toLowerCase()===e.split(" ").join("%20").toLowerCase()):null};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"w-full mt-6 flex flex-col md:flex-row items-center gap-3",children:[(0,r.jsxs)("div",{className:`flex flex-col gap-1 border-zinc-400  p-4 box-border border ${"light"===$?"bg-zinc-400/60":"bg-zinc-700/60"} rounded-lg`,children:[r.jsx("label",{htmlFor:"search",children:"Search by any city name"}),"all"===e&&r.jsx("p",{className:"text-xs text-red-400",children:"This search filter is independent of timezone"}),r.jsx("input",{type:"text",name:"search",id:"search",className:`border border-blue-300 p-2 rounded-md w-[300px] ${"light"===$?"bg-white":"bg-slate-700"}`,value:Z,onChange:t=>{let{value:r}=t.target;if(W(r),r.length>2){if("all"===e)a((0,x.M$)([])),a((0,p.j)({page:1,limit:20,timezone:z,searchTerm:r,order:_}));else{let e=JSON.parse(localStorage.getItem("favCity")||"[]").filter(e=>e.ascii_name.toLowerCase().includes(r.toLowerCase()));e.length>0?a((0,x.j$)(e)):k("No data found")}}if(0===r.length){if("all"===e)a((0,p.j)({page:1,limit:20,timezone:z,searchTerm:""}));else{let e=JSON.parse(localStorage.getItem("favCity")||"[]");a((0,x.j$)(e))}}},placeholder:"Type full city name.."})]}),(0,r.jsxs)("div",{className:`flex flex-col gap-1 border-zinc-400 p-4 box-border border ${"light"===$?"bg-zinc-400/60":"bg-zinc-700/60"} rounded-lg`,children:[r.jsx("label",{htmlFor:"search",children:"Filter by TimeZones"}),"all"===e&&r.jsx("p",{className:"text-xs text-red-400",children:'Default timezone is "Asia/Kolkata"'}),(0,r.jsxs)("select",{name:"timezone",id:"timezone",className:`border border-blue-300 p-2 rounded-md w-[300px] cursor-pointer ${"light"===$?"bg-white":"bg-slate-700"}`,value:L,onChange:t=>{let{value:r}=t.target;if(F(r),localStorage.setItem("timezone",r),"all"===e)a((0,x.M$)([])),a((0,p.j)({page:1,limit:20,timezone:r,searchTerm:S,order:_}));else{let e=JSON.parse(localStorage.getItem("favCity")||"[]");if("all"===r)a((0,x.j$)(e));else{a((0,x.j$)(e));let t=e.filter(e=>e.timezone===r);e.length>0?a((0,x.j$)(t)):k("No data found")}}},children:[r.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata"}),"fav"===e&&r.jsx("option",{value:"all",children:"All"}),y.map(e=>r.jsx("option",{value:e,children:e},e))]})]})]}),r.jsx("div",{className:"w-full rounded-md border-x mt-6 border-slate-300 overflow-auto",children:(0,r.jsxs)("table",{className:`w-full border-0 border-collapse ${"light"===$?"bg-white":"bg-slate-700"}`,children:[r.jsx("thead",{children:K.getHeaderGroups().map(e=>r.jsx("tr",{className:`border border-slate-500 ${"light"===$?"bg-slate-700":"bg-slate-800"} text-white`,children:e.headers.map(e=>r.jsx("th",{colSpan:e.colSpan,className:"whitespace-nowrap text-left p-3 font-medium",style:{width:e.getSize()},children:e.isPlaceholder?null:(0,r.jsxs)("div",{className:"select-none flex items-center gap-1",children:[(0,s.ie)(e.column.columnDef.header,e.getContext()),"City Name"===e.column.columnDef.header&&r.jsx("span",{className:"cursor-pointer hover:text-blue-500",onClick:()=>{J(),M(e=>"ASC"===e?"DESC":"ASC")},children:_?.split("%20")[1]==="ASC"?r.jsx(m.Z,{size:18}):r.jsx(h.Z,{size:18})})]})},e.id))},e.id))}),r.jsx("tbody",{children:K.getRowModel().rows.map(e=>r.jsx("tr",{className:`border-b border-slate-300 cursor-pointer ${"light"===$?"hover:bg-slate-200":"hover:bg-slate-800"} ease-in-out duration-200`,children:e.getVisibleCells().map(e=>(0,r.jsxs)("td",{className:"p-3 truncate",style:{maxWidth:e.column.getSize()},children:[(0,s.ie)(e.column.columnDef.cell,e.getContext()),"ascii_name"===e.column.id&&U(e.row.original.ascii_name)&&(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Already visited"}),(0,r.jsxs)("div",{className:"w-full flex gap-2",children:[(0,r.jsxs)("span",{className:"text-gray-500 text-xs",children:["Max Temp:",(U(e.row.original.ascii_name)?.maxTemp-273.15).toFixed(2),"\xb0C"]}),(0,r.jsxs)("span",{className:"text-gray-500 text-xs",children:["Min Temp:",(U(e.row.original.ascii_name)?.maxTemp-273.15).toFixed(2),"\xb0C"]})]})]})]},e.id))},e.id))})]})}),r.jsx("div",{className:"w-full",children:t&&(0,r.jsxs)("div",{className:`grid grid-cols-4 gap-2 ${"light"===$?"bg-white":"bg-slate-600"} p-2 rounded-md`,children:[r.jsx("div",{className:`${"light"===$?"bg-gray-200":"bg-slate-700"} animate-pulse p-6`}),r.jsx("div",{className:`${"light"===$?"bg-gray-200":"bg-slate-700"} animate-pulse p-6`}),r.jsx("div",{className:`${"light"===$?"bg-gray-200":"bg-slate-700"} animate-pulse p-6`}),r.jsx("div",{className:`${"light"===$?"bg-gray-200":"bg-slate-700"} animate-pulse p-6`})]})}),"all"===e&&0===j.length&&w&&r.jsx("div",{className:"w-full rounded-xl border border-dashed border-slate-300 p-4",children:r.jsx("h1",{children:"No Data Available"})}),"fav"===e&&0===T.length&&r.jsx("div",{className:"w-full rounded-b-lg text-red-400 border border-dashed border-red-300 bg-white p-4",children:r.jsx("h1",{children:"No Data Available"})}),"fav"===e&&P&&r.jsx("div",{className:"w-full rounded-b-lg text-red-400 border border-dashed border-red-300 bg-white p-4",children:r.jsx("h1",{children:P})})]})}},8015:(e,a,t)=>{"use strict";t.d(a,{default:()=>g});var r=t(326),l=t(4979),s=t(5920),i=t(7427),o=t(2607),n=t(850),d=t(6226),c=t(434);t(7577);var m=t(144),h=t(5624);let g=()=>{let e=(0,m.TL)(),{theme:a}=(0,m.CG)(e=>e.cities);return(0,r.jsxs)("div",{className:"w-full px-12 p-3 bg-slate-800 text-white flex items-center justify-between",children:[r.jsx(c.default,{href:"/",id:"icon",children:r.jsx(l.Z,{})}),r.jsx("nav",{className:"flex gap-6",children:r.jsx("h1",{className:"text-2xl hidden md:block",children:"Weather Forecast App"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(c.default,{href:"/",className:"text-white flex items-center gap-2 p-2 rounded-md",children:[r.jsx(s.Z,{size:16}),"All"]}),(0,r.jsxs)(c.default,{href:"/favorites",className:"text-pink-500 hover:bg-pink-400 hover:text-white flex items-center gap-2 border border-pink-600 p-2 rounded-md",children:[r.jsx(i.Z,{size:16}),"My Favorites"]}),r.jsx("button",{className:"p-2 text-sm rounded-full bg-blue-400/70 block",onClick:()=>{e((0,h.Dc)("light"===a?"dark":"light"))},children:"light"!==a?r.jsx(o.Z,{size:18}):r.jsx(n.Z,{size:18})}),r.jsx("div",{id:"profile",className:"flex gap-2",children:r.jsx(d.default,{src:"/user1.svg",alt:"User Profile",width:40,height:40})})]})]})}},144:(e,a,t)=>{"use strict";t.d(a,{CG:()=>s,TL:()=>l});var r=t(5842);let l=r.I0.withTypes(),s=r.v9.withTypes();r.oR.withTypes()},5399:(e,a,t)=>{"use strict";t.d(a,{j:()=>r});let r=(0,t(3146).hg)("fetchGeonameData",async e=>{console.log(e);{let a;a=e.searchTerm&&e.searchTerm.length>0?`https://public.opendatasoft.com/api/explore/v2.1/catalog/datasets/geonames-all-cities-with-a-population-1000/records?where=ascii_name%20like%20%22${e.searchTerm}%22`:`https://public.opendatasoft.com/api/explore/v2.1/catalog/datasets/geonames-all-cities-with-a-population-1000/records?limit=${e.limit}&offset=${e.page}&refine=timezone:${e.timezone}`,e.order&&(console.log(e.order),a=a.replace("?",`?&order_by=${e.order}&`)),console.log(a);let t=await fetch(a),r=await t.json();return{data:r.results,totalItems:r.total_count,timezone:e.timezone,pageLimit:e.limit,currentPage:e.page,searchTerm:e.searchTerm,order:e.order,orderField:e.order?"ascii_name"===e.order.split("%20")[0]?"City Name":"Population":""}}})},5058:(e,a,t)=>{"use strict";t.d(a,{c:()=>l,v:()=>s});var r=t(3146);let l=(0,r.hg)("weather/fetchCurrentWeatherData",async e=>{console.log("AIzaSyBpm6hmKjwljVWUUGDsWMqi206yYQ3DLVw");let a=await fetch(`https://api.openweathermap.org/data/2.5/weather?appid=67dd25425fe33e3cf5e281b7a7e051c4&lat=${e.lat}&lon=${e.lng}`);return await a.json()}),s=(0,r.hg)("weather/fetchForecastWeatherData",async e=>{console.log("AIzaSyBpm6hmKjwljVWUUGDsWMqi206yYQ3DLVw");let a=await fetch(`https://api.openweathermap.org/data/2.5/forecast?appid=67dd25425fe33e3cf5e281b7a7e051c4&lat=${e.lat}&lon=${e.lng}`);return(await a.json()).list})},5624:(e,a,t)=>{"use strict";t.d(a,{Dc:()=>n,It:()=>c,M$:()=>o,ZP:()=>m,j$:()=>d});var r=t(3146),l=t(5399);let s=e=>{console.log(e);let a=new Set,t=[];for(let r=0;r<e.length;r++)a.has(e[r].geoname_id)||(a.add(e[r].geoname_id),t.push(e[r]));return console.log(t),t},i=(0,r.oM)({name:"cities",initialState:{loading:!1,citiesData:[],totalMergeCount:0,mergeCitiesData:[],error:null,currentPage:1,totalItems:0,timeZone:"",pageLimit:20,searchTerm:"",order:"ascii_name%20ASC",orderField:"City Name",theme:"light",favCityData:[]},reducers:{setCitiesData:(e,a)=>({...e,totalMergeCount:a.payload.length,mergeCitiesData:a.payload}),setTheme:(e,a)=>(localStorage.setItem("theme",a.payload),{...e,theme:a.payload}),setFavCityData:(e,a)=>({...e,favCityData:a.payload}),setTimeZone:(e,a)=>({...e,timeZone:a.payload})},extraReducers:e=>{e.addCase(l.j.pending,e=>{e.loading=!0}),e.addCase(l.j.fulfilled.type,(e,a)=>{e.loading=!1,e.citiesData=a.payload?.data,e.totalMergeCount=e.mergeCitiesData.length,e.mergeCitiesData=e.searchTerm?s(a.payload?.data):s([...e.mergeCitiesData,...a.payload?.data]),e.totalItems=a.payload?.totalItems,e.timeZone=a.payload?.timezone,e.pageLimit=a.payload?.pageLimit,e.currentPage=a.payload?.currentPage,e.searchTerm=a.payload?.searchTerm,e.order=a.payload?.order,e.orderField=a.payload?.orderField,e.error=null}),e.addCase(l.j.rejected,e=>{e.loading=!1,e.citiesData=[],e.error="Something went wrong"})}}),{setCitiesData:o,setTheme:n,setFavCityData:d,setTimeZone:c}=i.actions,m=i.reducer},4209:(e,a,t)=>{"use strict";t.d(a,{Z:()=>o,p:()=>i});var r=t(3146),l=t(5058);let s=(0,r.oM)({name:"weather",initialState:{loading:!1,currentWeather:null,foreCastWeather:[],maxTempCity:null,minTempCity:null,foreCastError:null,error:null},reducers:{setTempCity:(e,a)=>({...e,maxTempCity:a.payload.max,minTempCity:a.payload.min})},extraReducers(e){e.addCase(l.c.pending,e=>{e.loading=!0,e.error=null}),e.addCase(l.c.fulfilled.type,(e,a)=>{e.loading=!1,e.currentWeather=a.payload,e.error=null}),e.addCase(l.c.rejected,(e,a)=>{e.loading=!1,e.currentWeather=null,e.error=a.payload}),e.addCase(l.v.pending,e=>{e.loading=!0,e.foreCastError=null}),e.addCase(l.v.fulfilled.type,(e,a)=>{e.loading=!1,e.foreCastWeather=a.payload,e.foreCastError=null}),e.addCase(l.v.rejected,(e,a)=>{e.loading=!1,e.foreCastWeather=[],e.foreCastError=a.payload})}}),{setTempCity:i}=s.actions,o=s.reducer},3763:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>f,metadata:()=>x});var r=t(9510),l=t(1574),s=t.n(l);t(4315);var i=t(8570);let o=(0,i.createProxy)(String.raw`C:\Users\91703\Desktop\My_Workspace\weather-forecast-next\src\app\storeProvider.tsx`),{__esModule:n,$$typeof:d}=o;o.default;let c=(0,i.createProxy)(String.raw`C:\Users\91703\Desktop\My_Workspace\weather-forecast-next\src\app\storeProvider.tsx#default`),m=(0,i.createProxy)(String.raw`C:\Users\91703\Desktop\My_Workspace\weather-forecast-next\src\components\Navbar.tsx`),{__esModule:h,$$typeof:g}=m;m.default;let p=(0,i.createProxy)(String.raw`C:\Users\91703\Desktop\My_Workspace\weather-forecast-next\src\components\Navbar.tsx#default`);var u=t(6557);t(7001);let x={title:"Weather Forecast App",description:"Infinite Scroll Weather Forecast App"};function f({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:`${s().className}`,children:[(0,r.jsxs)(c,{children:[r.jsx(p,{}),e]}),r.jsx(u.Ix,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})}},1930:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var r=t(9510);function l(){return(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2 bg-white p-2 rounded-md",children:[r.jsx("div",{className:"bg-gray-200 animate-pulse p-6"}),r.jsx("div",{className:"bg-gray-200 animate-pulse p-6"}),r.jsx("div",{className:"bg-gray-200 animate-pulse p-6"}),r.jsx("div",{className:"bg-gray-200 animate-pulse p-6"})]})}},4315:()=>{}};