(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1796:function(e,t,a){Promise.resolve().then(a.t.bind(a,9786,23)),Promise.resolve().then(a.bind(a,3580)),Promise.resolve().then(a.t.bind(a,4193,23)),Promise.resolve().then(a.bind(a,7273)),Promise.resolve().then(a.bind(a,7032)),Promise.resolve().then(a.t.bind(a,5204,23))},7273:function(e,t,a){"use strict";a.d(t,{default:function(){return c}});var r=a(7437),o=a(2265),n=a(1444),i=a(9753),l=a(4058),d=a(1630);let s=()=>(0,i.xC)({reducer:{cities:l.ZP,weather:d.Z}});function c(e){let{children:t}=e,a=(0,o.useRef)();return a.current||(a.current=s()),(0,r.jsx)(n.zt,{store:a.current,children:t})}},7032:function(e,t,a){"use strict";a.d(t,{default:function(){return m}});var r=a(7437),o=a(3480);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,o.Z)("CloudSunRain",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M3 20a5 5 0 1 1 8.9-4H13a3 3 0 0 1 2 5.24",key:"1qmrp3"}],["path",{d:"M11 20v2",key:"174qtz"}],["path",{d:"M7 19v2",key:"12npes"}]]),i=(0,o.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var l=a(4042);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),s=(0,o.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var c=a(6648),u=a(7138);a(2265);var p=a(6017),h=a(4058),m=()=>{let e=(0,p.TL)(),{theme:t}=(0,p.CG)(e=>e.cities);return(0,r.jsxs)("div",{className:"w-full px-12 p-3 bg-slate-800 text-white flex items-center justify-between",children:[(0,r.jsx)(u.default,{href:"/",id:"icon",children:(0,r.jsx)(n,{})}),(0,r.jsx)("nav",{className:"flex gap-6",children:(0,r.jsx)("h1",{className:"text-2xl hidden md:block",children:"Weather Forecast App"})}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(u.default,{href:"/",className:"text-white flex items-center gap-2 p-2 rounded-md",children:[(0,r.jsx)(i,{size:16}),"All"]}),(0,r.jsxs)(u.default,{href:"/favorites",className:"text-pink-500 hover:bg-pink-400 hover:text-white flex items-center gap-2 border border-pink-600 p-2 rounded-md",children:[(0,r.jsx)(l.Z,{size:16}),"My Favorites"]}),(0,r.jsx)("button",{className:"p-2 text-sm rounded-full bg-blue-400/70 block",onClick:()=>{e((0,h.Dc)("light"===t?"dark":"light"))},children:"light"!==t?(0,r.jsx)(d,{size:18}):(0,r.jsx)(s,{size:18})}),(0,r.jsx)("div",{id:"profile",className:"flex gap-2",children:(0,r.jsx)(c.default,{src:"/user1.svg",alt:"User Profile",width:40,height:40})})]})]})}},6017:function(e,t,a){"use strict";a.d(t,{CG:function(){return n},TL:function(){return o}});var r=a(1444);let o=r.I0.withTypes(),n=r.v9.withTypes();r.oR.withTypes()},7017:function(e,t,a){"use strict";a.d(t,{j:function(){return r}});let r=(0,a(9753).hg)("fetchGeonameData",async e=>{{let t;e.searchTerm&&e.searchTerm.length>0?t="".concat("https://public.opendatasoft.com/api/explore/v2.1/catalog/datasets/geonames-all-cities-with-a-population-1000/records","?where=ascii_name%20like%20%22").concat(e.searchTerm,"%22"):(t="".concat("https://public.opendatasoft.com/api/explore/v2.1/catalog/datasets/geonames-all-cities-with-a-population-1000/records","?limit=").concat(e.limit,"&offset=").concat(e.page,"&refine=timezone:").concat(e.timezone),e.order&&(t=t.replace("?","?&order_by=".concat(e.order,"&")))),console.log(t);let a=await fetch(t),r=await a.json();return{data:r.results,totalItems:r.total_count,timezone:e.timezone,pageLimit:e.limit,currentPage:e.page,searchTerm:e.searchTerm,order:e.order,orderField:e.order?"ascii_name"===e.order.split("%20")[0]?"City Name":"Population":""}}})},4970:function(e,t,a){"use strict";a.d(t,{c:function(){return o},v:function(){return n}});var r=a(9753);let o=(0,r.hg)("weather/fetchCurrentWeatherData",async e=>{console.log("AIzaSyBpm6hmKjwljVWUUGDsWMqi206yYQ3DLVw");let t=await fetch("".concat("https://api.openweathermap.org/data/2.5","/weather?appid=").concat("67dd25425fe33e3cf5e281b7a7e051c4","&lat=").concat(e.lat,"&lon=").concat(e.lng));return await t.json()}),n=(0,r.hg)("weather/fetchForecastWeatherData",async e=>{console.log("AIzaSyBpm6hmKjwljVWUUGDsWMqi206yYQ3DLVw");let t=await fetch("".concat("https://api.openweathermap.org/data/2.5","/forecast?appid=").concat("67dd25425fe33e3cf5e281b7a7e051c4","&lat=").concat(e.lat,"&lon=").concat(e.lng));return(await t.json()).list})},4058:function(e,t,a){"use strict";a.d(t,{Dc:function(){return d},It:function(){return c},M$:function(){return l},j$:function(){return s}});var r=a(9753),o=a(7017);let n=e=>{console.log(e);let t=new Set,a=[];for(let r=0;r<e.length;r++)t.has(e[r].geoname_id)||(t.add(e[r].geoname_id),a.push(e[r]));return console.log(a),a},i=(0,r.oM)({name:"cities",initialState:{loading:!1,citiesData:[],totalMergeCount:0,mergeCitiesData:[],error:null,currentPage:1,totalItems:0,timeZone:"",pageLimit:20,searchTerm:"",order:"ascii_name%20ASC",orderField:"City Name",theme:"light",favCityData:[]},reducers:{setCitiesData:(e,t)=>({...e,totalMergeCount:t.payload.length,mergeCitiesData:t.payload}),setTheme:(e,t)=>(localStorage.setItem("theme",t.payload),{...e,theme:t.payload}),setFavCityData:(e,t)=>({...e,favCityData:t.payload}),setTimeZone:(e,t)=>({...e,timeZone:t.payload})},extraReducers:e=>{e.addCase(o.j.pending,e=>{e.loading=!0}),e.addCase(o.j.fulfilled.type,(e,t)=>{var a,r,o,i,l,d,s,c,u,p;e.loading=!1,e.citiesData=null===(a=t.payload)||void 0===a?void 0:a.data,e.totalMergeCount=e.mergeCitiesData.length,e.mergeCitiesData=e.searchTerm?n(null===(r=t.payload)||void 0===r?void 0:r.data):n([...e.mergeCitiesData,...null===(o=t.payload)||void 0===o?void 0:o.data]),e.totalItems=null===(i=t.payload)||void 0===i?void 0:i.totalItems,e.timeZone=null===(l=t.payload)||void 0===l?void 0:l.timezone,e.pageLimit=null===(d=t.payload)||void 0===d?void 0:d.pageLimit,e.currentPage=null===(s=t.payload)||void 0===s?void 0:s.currentPage,e.searchTerm=null===(c=t.payload)||void 0===c?void 0:c.searchTerm,e.order=null===(u=t.payload)||void 0===u?void 0:u.order,e.orderField=null===(p=t.payload)||void 0===p?void 0:p.orderField,e.error=null}),e.addCase(o.j.rejected,e=>{e.loading=!1,e.citiesData=[],e.error="Something went wrong"})}}),{setCitiesData:l,setTheme:d,setFavCityData:s,setTimeZone:c}=i.actions;t.ZP=i.reducer},1630:function(e,t,a){"use strict";a.d(t,{p:function(){return i}});var r=a(9753),o=a(4970);let n=(0,r.oM)({name:"weather",initialState:{loading:!1,currentWeather:null,foreCastWeather:[],maxTempCity:null,minTempCity:null,foreCastError:null,error:null},reducers:{setTempCity:(e,t)=>({...e,maxTempCity:t.payload.max,minTempCity:t.payload.min})},extraReducers(e){e.addCase(o.c.pending,e=>{e.loading=!0,e.error=null}),e.addCase(o.c.fulfilled.type,(e,t)=>{e.loading=!1,e.currentWeather=t.payload,e.error=null}),e.addCase(o.c.rejected,(e,t)=>{e.loading=!1,e.currentWeather=null,e.error=t.payload}),e.addCase(o.v.pending,e=>{e.loading=!0,e.foreCastError=null}),e.addCase(o.v.fulfilled.type,(e,t)=>{e.loading=!1,e.foreCastWeather=t.payload,e.foreCastError=null}),e.addCase(o.v.rejected,(e,t)=>{e.loading=!1,e.foreCastWeather=[],e.foreCastError=t.payload})}}),{setTempCity:i}=n.actions;t.Z=n.reducer},4193:function(){},5204:function(){},9786:function(e){e.exports={style:{fontFamily:"'__Roboto_9f69f0', '__Roboto_Fallback_9f69f0'",fontStyle:"normal"},className:"__className_9f69f0"}}},function(e){e.O(0,[710,846,417,475,648,971,23,744],function(){return e(e.s=1796)}),_N_E=e.O()}]);